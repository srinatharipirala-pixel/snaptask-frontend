# render.yaml
# Deploy SnapTask (Vite + React + Tailwind) efficiently on Render

services:
  - type: web
    name: snaptask-frontend
    env: node

    # ✅ Use Node 20 LTS (stable & well-supported)
    envVars:
      - key: NODE_VERSION
        value: 20
      - key: NODE_ENV
        value: production

    # ✅ Commands
    buildCommand: npm install && npm run build
    startCommand: npx serve -s dist

    # ✅ Publish directory (Vite output)
    staticPublishPath: dist

    # ✅ Auto-detects port
    autoDeploy: true
